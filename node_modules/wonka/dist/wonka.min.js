"use strict";function n(n,t){return t.tag=n,t}var t=[];function r(n){return void 0===n?((n=[t,0]).tag=256,n):(null!==n&&n[0]===t&&((n=[t,n[1]+1|0]).tag=256),n)}function u(n){return null===n||n[0]!==t?n:0!==(n=n[1])?[t,n-1|0]:void 0}function e(n){return 0}function o(t,r){let e=!1,o=!1,f=!1;return t(n(0,[function(i){if(i)e=!0;else if(o)f=!0;else{for(o=f=!0;f&&!e;)void 0!==(i=r())?(f=!1,t(n(1,[u(i)]))):(e=!0,t(0));o=!1}return 0}]))}function f(n){return function(t){var u=n.length;let e=0;return o(t,(function(){if(e<u){var t=n[e];return e=e+1|0,r(t)}}))}}function i(){return 0}function c(n){return n(0)}function a(t){let r=!1;return t(n(0,[function(n){return n?(r=!0,0):r?0:t(0)}]))}var s=f,l=a;function p(n,t,r){for(var u=Array(r),e=0;e<r;)u[e]=n[t],e=e+1|0,t=t+1|0;return u}function b(n,t){for(;;){var r=t,u=0===(t=n.length)?1:t;if(0==(t=u-r.length|0))return n.apply(null,r);if(!(0>t))return function(n,t){return function(r){return b(n,t.concat([r]))}}(n,r);t=p(r,u,0|-t),n=n.apply(null,p(r,0,u))}}function m(n,t){var r=n.length;return 1===r?n(t):function(n,t,r){switch(r){case 1:return n(t);case 2:return function(r){return n(t,r)};case 3:return function(r,u){return n(t,r,u)};case 4:return function(r,u,e){return n(t,r,u,e)};case 5:return function(r,u,e,o){return n(t,r,u,e,o)};case 6:return function(r,u,e,o,f){return n(t,r,u,e,o,f)};case 7:return function(r,u,e,o,f,i){return n(t,r,u,e,o,f,i)};default:return b(n,[t])}}(n,t,r)}function v(n,t,r){var u=n.length;return 2===u?n(t,r):function(n,t,r,u){switch(u){case 1:return b(n(t),[r]);case 2:return n(t,r);case 3:return function(u){return n(t,r,u)};case 4:return function(u,e){return n(t,r,u,e)};case 5:return function(u,e,o){return n(t,r,u,e,o)};case 6:return function(u,e,o,f){return n(t,r,u,e,o,f)};case 7:return function(u,e,o,f,i){return n(t,r,u,e,o,f,i)};default:return b(n,[t,r])}}(n,t,r,u)}function g(n,t,r,u){var e=n.length;return 3===e?n(t,r,u):function(n,t,r,u,e){switch(e){case 1:return b(n(t),[r,u]);case 2:return b(n(t,r),[u]);case 3:return n(t,r,u);case 4:return function(e){return n(t,r,u,e)};case 5:return function(e,o){return n(t,r,u,e,o)};case 6:return function(e,o,f){return n(t,r,u,e,o,f)};case 7:return function(e,o,f,i){return n(t,r,u,e,o,f,i)};default:return b(n,[t,r,u])}}(n,t,r,u,e)}function x(t,o){return function(f){let i=e,c=e,a=void 0,s=void 0,l=!1,p=0,b=!1;return m(t,(function(t){var e=s;return"number"==typeof t?1>p?(p=p+1|0,0):b?0:(b=!0,f(0)):t.tag?(t=t[0],void 0!==e?b?0:(a=r(t),l=!1,f(n(1,[[t,u(e)]]))):(a=r(t),l?(l=!1,0):c(0))):(i=t[0],0)})),m(o,(function(t){var e=a;return"number"==typeof t?1>p?(p=p+1|0,0):b?0:(b=!0,f(0)):t.tag?(t=t[0],void 0!==e?b?0:(s=r(t),l=!1,f(n(1,[[u(e),t]]))):(s=r(t),l?(l=!1,0):i(0))):(c=t[0],0)})),f(n(0,[function(n){return b?0:n?(b=!0,i(1),c(1)):l?0:(l=!0,i(n),c(n))}]))}}function y(t){return function(r){return function(o){function f(n){return"number"==typeof n?l?(l=!1,void 0!==(n=i.shift())?v(t(u(n))):b?o(0):a?0:(a=!0,c(0))):0:n.tag?l?(o(n),p?(p=!1,0):s(0)):0:(s=n=n[0],p=!1,n(0))}let i=[],c=e,a=!1,s=e,l=!1,p=!1,b=!1;var v=function(n){return l=!0,m(n,f)};return m(r,(function(n){return"number"==typeof n?b?0:(b=!0,!l&&function(n){return 0===n.length}(i)?o(0):0):n.tag?b?0:(n=n[0],a=!1,l?(i.push(n),0):v(t(n))):(c=n[0],0)})),o(n(0,[function(n){if(n){if(b||(b=!0,c(1)),l)return l=!1,s(1)}else if(b||a||(a=!0,c(0)),l&&!p)return p=!0,s(0);return 0}]))}}}function h(n){return n}function d(n){return n}function E(n){return n(0)}function k(t){return function(r){return function(u){let o=e,f=!1,i=[],c=!1;return m(r,(function(r){return"number"==typeof r?c?0:(c=!0,0===i.length?u(0):0):r.tag?c?0:(f=!1,function(t){function r(n){return n!==a}let a=e;m(t,(function(t){if("number"==typeof t){if(0!==i.length){if(i=i.filter(r),t=0===i.length,c&&t)return u(0);if(!f&&t)return f=!0,o(0)}return 0}return t.tag?0!==i.length?(u(n(1,[t[0]])),a(0)):0:(a=t=t[0],i=i.concat(t),t(0))}))}(t(r[0])),f?0:(f=!0,o(0))):(o=r[0],0)})),u(n(0,[function(n){return n?(c||(c=!0,o(n)),i.forEach((function(t){return t(n)})),i=[]):(f||c?f=!1:(f=!0,o(0)),i.forEach(E)),0}]))}}}function w(n){return n}function A(n){return n}function S(n){return k(A)(n)}function P(t){return function(r){return function(u){let e=!1;return m(r,(function(r){if("number"==typeof r)return e?0:(e=!0,u(r));if(r.tag)return e?0:(t(r[0]),u(r));var o=r[0];return u(n(0,[function(n){return e?0:(n&&(e=!0),o(n))}]))}))}}}function T(t,r){return function(u){return function(e){let o=r;return m(u,(function(r){return"number"==typeof r?r=0:r.tag?(o=t(o,r[0]),r=n(1,[o])):r=n(0,[r[0]]),e(r)}))}}}function L(n){return n(0)}function M(t){return function(r){return function(u){function o(n){return a?"number"==typeof n?(a=!1,l?u(n):i?0:(i=!0,f(0))):n.tag?(u(n),s?(s=!1,0):c(0)):(c=n=n[0],s=!1,n(0)):0}let f=e,i=!1,c=e,a=!1,s=!1,l=!1;return m(r,(function(n){return"number"==typeof n?l?0:(l=!0,a?0:u(0)):n.tag?l?0:(a&&(c(1),c=e),i?i=!1:(i=!0,f(0)),n=t(n[0]),a=!0,m(n,o)):(f=n[0],0)})),u(n(0,[function(n){if(n){if(l||(l=!0,f(1)),a)return a=!1,c(1)}else if(l||i||(i=!0,f(0)),a&&!s)return s=!0,c(0);return 0}]))}}}function C(n){return n}function I(n){return function(t){return function(r){function u(){return i.shift()}let f=e;var i=[];return m(t,(function(t){return"number"==typeof t?o(r,u):t.tag?(i.length>=n&&0<n&&i.shift(),i.push(t[0]),f(0)):(t=t[0],0>=n?(t(1),a(r)):(f=t,t(0)))}))}}}var O=y,U=k,W=S,j=S,D=P,V=P,q=M,z=I;function B(n){return function(t){let r=e,u=!1;return m(t,(function(t){return"number"==typeof t?(u=!0,0):t.tag?u?0:(n(t[0]),r(0)):(r=t=t[0],t(0))})),{unsubscribe:function(n){return u?0:(u=!0,r(1))}}}}function F(n){return 0}var G=B,H="function"==typeof Symbol?Symbol.observable||(Symbol.observable=Symbol("observable")):"@@observable";function J(n){return 0}function K(n,t,r){n.addEventListener(t,r)}function N(n,t,r){n.removeEventListener(t,r)}function Q(t,r){return function(u){var e=K,o=N,f=function(t){return u(n(1,[t]))};return u(n(0,[function(n){return n?g(o,t,r,f):0}])),g(e,t,r,f)}}exports.buffer=function(t){return function(r){return function(u){function o(t){return"number"==typeof t?s?0:(s=!0,i(1),0<f.length&&u(n(1,[f])),u(0)):t.tag?s||0>=f.length?0:(t=f,f=[],u(n(1,[t]))):(c=t[0],0)}let f=[],i=e,c=e,a=!1,s=!1;return m(r,(function(r){return"number"==typeof r?s?0:(s=!0,c(1),0<f.length&&u(n(1,[f])),u(0)):r.tag?s?0:(f.push(r[0]),a?(a=!1,0):(a=!0,i(0),c(0))):(i=r[0],m(t,o))})),u(n(0,[function(n){return s?0:n?(s=!0,i(1),c(1)):a?0:(a=!0,i(0),c(0))}]))}}},exports.combine=function(n,t){return v(x,n,t)},exports.concat=function(n){return y(d)(f(n))},exports.concatAll=function(n){return y(h)(n)},exports.concatMap=O,exports.debounce=function(t){return function(e){return function(o){let f=void 0,i=!1,c=!1;var a=function(n){return void 0!==(n=f)&&(f=void 0,clearTimeout(u(n))),0};return m(e,(function(u){if("number"==typeof u)return c?0:(c=!0,void 0!==f?(i=!0,0):o(0));if(u.tag)return c||(a(),f=r(setTimeout((function(n){return f=void 0,o(u),i?o(0):0}),t(u[0])))),0;var e=u[0];return o(n(0,[function(n){return c?0:n?(c=!0,i=!1,a(),e(1)):e(0)}]))}))}}},exports.delay=function(n){return function(t){return function(r){let u=0;return m(t,(function(t){return"number"==typeof t||t.tag?(u=u+1|0,setTimeout((function(n){return 0!==u?(u=u-1|0,r(t)):0}),n),0):r(t)}))}}},exports.empty=l,exports.filter=function(n){return function(t){return function(r){let u=e;return m(t,(function(t){return"number"==typeof t?r(t):t.tag?n(t[0])?r(t):u(0):(u=t[0],r(t))}))}}},exports.flatten=j,exports.forEach=function(n){return function(t){return B(n)(t),0}},exports.fromArray=s,exports.fromCallbag=function(t){return function(r){return v(t,0,(function(t,u){switch(t){case 0:return r(n(0,[function(n){return u(n?2:1)}]));case 1:return r(n(1,[u]));case 2:return r(0)}}))}},exports.fromDomEvent=function(n,t){return v(Q,n,t)},exports.fromList=function(n){return function(t){let u=n;return o(t,(function(){var n=u;if(n)return u=n[1],r(n[0])}))}},exports.fromObservable=function(t){var r=void 0!==t[H]?t[H]():t;return function(t){var u=r.subscribe({next:function(r){return t(n(1,[r]))},complete:function(){return t(0)},error:J});return t(n(0,[function(n){return n?u.unsubscribe():0}]))}},exports.fromPromise=function(t){return function(r){let u=!1;return t.then((function(t){return u||(r(n(1,[t])),r(0)),Promise.resolve(0)})),r(n(0,[function(n){return n&&(u=!0),0}]))}},exports.fromValue=function(t){return function(r){let u=!1;return r(n(0,[function(e){return e?(u=!0,0):u?0:(u=!0,r(n(1,[t])),r(0))}]))}},exports.interval=function(t){return function(r){let u=0;var e=setInterval((function(t){return t=u,u=u+1|0,r(n(1,[t]))}),t);return r(n(0,[function(n){return n&&clearInterval(e),0}]))}},exports.make=function(t){return function(r){let u=i,e=!1;return u=t({next:function(t){return e?0:r(n(1,[t]))},complete:function(n){return e?0:(e=!0,r(0))}}),r(n(0,[function(n){return n&&!e?(e=!0,u()):0}]))}},exports.makeSubject=function(t){let r=[],u=!1;return{source:function(t){function u(n){return n!==t}return r=r.concat(t),t(n(0,[function(n){return n&&(r=r.filter(u)),0}]))},next:function(t){return u||r.forEach((function(r){return r(n(1,[t]))})),0},complete:function(n){return u||(u=!0,r.forEach(c)),0}}},exports.map=function(t){return function(r){return function(u){return m(r,(function(r){return r="number"==typeof r?0:r.tag?n(1,[t(r[0])]):n(0,[r[0]]),u(r)}))}}},exports.merge=function(n){return k(w)(f(n))},exports.mergeAll=W,exports.mergeMap=U,exports.never=function(t){return t(n(0,[e]))},exports.onEnd=function(t){return function(r){return function(u){let e=!1;return m(r,(function(r){if("number"==typeof r)return e?0:(e=!0,u(r),t());if(r.tag)return e?0:u(r);var o=r[0];return u(n(0,[function(n){return e?0:n?(e=!0,o(n),t()):o(n)}]))}))}}},exports.onPush=D,exports.onStart=function(n){return function(t){return function(r){return m(t,(function(t){return"number"==typeof t||t.tag?r(t):(r(t),n())}))}}},exports.pipe=function(){for(var n=arguments,t=arguments[0],r=1,u=arguments.length;r<u;r++)t=n[r](t);return t},exports.publish=function(n){return B(F)(n)},exports.sample=function(t){return function(o){return function(f){let i=e,c=e,a=void 0,s=!1,l=!1;return m(o,(function(n){return"number"==typeof n?l?0:(l=!0,c(1),f(0)):n.tag?(a=r(n[0]),s?(s=!1,0):(s=!0,c(0),i(0))):(i=n[0],0)})),m(t,(function(t){var r=a;return"number"==typeof t?l?0:(l=!0,i(1),f(0)):t.tag?void 0===r||l?0:(a=void 0,f(n(1,[u(r)]))):(c=t[0],0)})),f(n(0,[function(n){return l?0:n?(l=!0,i(1),c(1)):s?0:(s=!0,i(0),c(0))}]))}}},exports.scan=function(n,t){return v(T,n,t)},exports.share=function(t){function r(n){return"number"==typeof n?(u.forEach(L),u=[]):n.tag?(f=!1,u.forEach((function(t){return t(n)}))):o=n[0],0}let u=[],o=e,f=!1;return function(e){function i(n){return n!==e}return u=u.concat(e),1===u.length&&m(t,r),e(n(0,[function(n){return n?(u=u.filter(i),0===u.length?o(1):0):f?0:(f=!0,o(n))}]))}},exports.skip=function(n){return function(t){return function(r){let u=e,o=n;return m(t,(function(n){return"number"==typeof n?r(n):n.tag?0<o?(o=o-1|0,u(0)):r(n):(u=n[0],r(n))}))}}},exports.skipUntil=function(t){return function(r){return function(u){function o(n){return"number"==typeof n?c?(s=!0,f(1)):0:n.tag?(c=!1,i(1)):(i=n=n[0],n(0))}let f=e,i=e,c=!0,a=!1,s=!1;return m(r,(function(n){return"number"==typeof n?(c&&i(1),s=!0,u(0)):n.tag?c||s?a?(a=!1,0):(a=!0,f(0),i(0)):(a=!1,u(n)):(f=n[0],m(t,o))})),u(n(0,[function(n){return s?0:n?(s=!0,f(1),c?i(1):0):a?0:(a=!0,c&&i(0),f(0))}]))}}},exports.skipWhile=function(n){return function(t){return function(r){let u=e,o=!0;return m(t,(function(t){if("number"==typeof t)return r(t);if(t.tag){if(o){if(n(t[0]))return u(0);o=!1}return r(t)}return u=t[0],r(t)}))}}},exports.subscribe=G,exports.switchAll=function(n){return M(C)(n)},exports.switchMap=q,exports.take=function(t){return function(r){return function(u){let o=!1,f=0,i=e;return m(r,(function(n){return"number"==typeof n?o?0:(o=!0,u(0)):n.tag?f<t&&!o&&(f=f+1|0,u(n),!o&&f>=t)?(o=!0,u(0),i(1)):0:(n=n[0],0>=t?(o=!0,u(0),n(1)):(i=n,0))})),u(n(0,[function(n){return o?0:n?(o=!0,i(1)):f<t?i(0):0}]))}}},exports.takeLast=z,exports.takeUntil=function(t){return function(r){return function(u){function o(n){return"number"==typeof n?0:n.tag?(f=!0,i(1),u(0)):(c=n=n[0],n(0))}let f=!1,i=e,c=e;return m(r,(function(n){return"number"==typeof n?f?0:(f=!0,c(1),u(0)):n.tag?f?0:u(n):(i=n[0],m(t,o))})),u(n(0,[function(n){return f?0:n?(f=!0,i(1),c(1)):i(0)}]))}}},exports.takeWhile=function(n){return function(t){return function(r){let u=e,o=!1;return m(t,(function(t){return"number"==typeof t?o?0:(o=!0,r(0)):t.tag?o?0:n(t[0])?r(t):(o=!0,r(0),u(1)):(u=t[0],r(t))}))}}},exports.tap=V,exports.throttle=function(t){return function(e){return function(o){function f(n){return c=void 0,i=!1,0}let i=!1,c=void 0;var a=function(n){return void 0!==(n=c)&&clearTimeout(u(n)),0};return m(e,(function(u){if("number"==typeof u)return a(),o(0);if(u.tag)return i?0:(i=!0,a(),c=r(setTimeout(f,t(u[0]))),o(u));var e=u[0];return o(n(0,[function(n){return n?(a(),e(1)):e(n)}]))}))}}},exports.toArray=function(n){let t=[],r=e,u=!1;return m(n,(function(n){return"number"==typeof n?(u=!0,0):n.tag?(t.push(n[0]),r(0)):(r=n=n[0],n(0))})),u||r(1),t},exports.toCallbag=function(n){return function(t,r){return 0===t?m(n,(function(n){if("number"==typeof n)return v(r,2,0);if(n.tag)return v(r,1,n[0]);var t=n[0];return v(r,0,(function(n){switch(n){case 0:return 0;case 1:return t(0);case 2:return t(1)}}))})):0}},exports.toObservable=function(n){var t={subscribe:function(t){let r=e,u=!1;return m(n,(function(n){return"number"==typeof n?(u=!0,t.complete()):n.tag?u?0:(t.next(n[0]),r(0)):(r=n=n[0],n(0))})),{unsubscribe:function(){return u?0:(u=!0,r(1))}}}};return t[H]=function(n){return t},t},exports.toPromise=function(n){return new Promise((function(t,r){return m(I(1)(n),(function(n){return"number"==typeof n?0:n.tag?t(n[0]):n[0](0)}))}))};
